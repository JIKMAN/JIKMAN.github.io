---
title:  "[TCP/IP] 프로토콜의 구조"

categories:
  - IT
tags:
  - [TCP, IP, Network, Protocol]
toc: true
toc_sticky: true
---

## TCP/IP 프로토콜 구조

![프로토콜구조](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=http%3A%2F%2Fcfile8.uf.tistory.com%2Fimage%2F2232253558E5247413219D)
> ### 1. 네트워크 접근 계층
>
> **네트워크 접근 계층**(network access layer)은 물리적 네트워크를 통한 실제 데이터 송후신을 담당한다.

#### 구성요소

1. 물리적 신호를 처리해 데이터를 송수신하는 -> 네트워크 하드웨어 
2. 운영체제가 제공하는 -> 장치 드라이버

**네트워크 접근 계층에서는** 하드웨어적으로 정의된 물리 주소 (physical address)를 사용해 통신하는데, 물리 주소는 네트워크 방식에 따라 다르며 일반적으로 상호 호환되지 않습니다.

* `cmd`창에서 `ipconfig/all` 명령을 통해 확인 가능

흔히 사용하는 이더넷(Ethernet)에서는 48비트 물리 주소를 사용합니다.

---

> ### 2. 인터넷 계층
>
> **인터넷 계층**(internet layer)은 네트워크 접근 계층의 도움을 받아 데이터를 목적지 호스트까지 전달하는 역할을 한다.

네트워크 접근 계층처럼 주소를 지정하는 방법이 필요한데, 하드웨어적으로 정의된 물리 주소 대신 소프트웨어적으로 적의된 논리 주소인 **IP주소** (Internet Protocol address)를 사용합니다.



**IP주소**는 네트웍 물리주소와 별개로 정의하며, 전 세계적으로 **유일성**을 보장합니다.

IP주소의 유일성과 하드웨어 독립성 덕분에 TCP/IP 프로토콜은 다양한 네트워크 기술과 하드웨어에서 작동할 수 있으며, 이를 통해 전 세계적인 네트워크인 **인터넷**(Internet)을 만들 수 있게 되었습니다.



**IP주소**는 통신에 참여하는 호스트를 유일하게 지정하는 방법을 제공하지만, 실제 통신을 하려면

전송 경로를 결정하고 그에 따라 데이터를 전달하는 절차가 필요합니다.

이를 **라우팅**이라 부릅니다.



**라우팅**(routing)은 데이터를 목적지까지 전달하는 일련의 작업을 가리키는 용어입니다.

라우팅을 담당하는 전용 장비를 **라우터**(router)라 부르고,

**라우터**를 통해 서로 다른 네트워크에 연결된 호스트가 통신할 수 있습니다.

---

> ### 3. 전송 계층
>
> **전송 계층**(transport layer)은 최종 통신 목적지를 지정하고 오류 없이 **데이터를 전송하는 역할**을 한다.

앞서 언급한 인터넷 계층의 역할은 IP주소와 라우팅을 이용해 목적지에 데이터가 도달할 수 있게 하는 것입니다.

**그러나** 통신의 최종 목적지는 호스트가 아닌 해당 호스트에서 실행하고 있는 프로세스(응용 프로그램)입니다. 따라서 전송 계층에서 프로세스를 지정하는 일종의 주소를 사용하는데,

이를 **포트 번호**(Port number)라 합니다.



인터넷 계층의 IP가 제공하는 전송서비스는 최선을 다하지만 신뢰성이 없다는 특징이 있습니다.

즉, 데이터에 문제가 생기면 목적지에 도달하지 못하는 상황이 생깁니다. 목적지에 도달해도 손상됐을 가능성도 있습니다.

**전송계층**에서는 이러한 데이터 손실 또는 손상을 검출해 잘못된 데이터가 목적지에 전달되는 일을 방지합니다.



**전송 계층**에 해당하는 TCP/IP 프로토콜로는

1. **TCP**(Transmission Control Protocol)
2. **UDP**(User Datagram Protocol)

|                           **TCP**                            |                           **UDP**                            |
| :----------------------------------------------------------: | :----------------------------------------------------------: |
| **연결형**(connection-oriented) 프로토콜<br /> - 연결 설정 후 통신 가능 | **비연결형**(connetcionless) 프로토콜<br /> - 연결 설정 없이 통신 가능 |
|      신뢰성 있는 데이터 전송<br /> - 데이터를 재전송함       |   신뢰성 없는 데이터 전송<br /> - 데이터를 재전송하지 않음   |
|                     일대일 통신(unicast)                     | 일대일 통신(unicast) <br />일대다 통신(broadcast , multicast) |
| 데이터 경계 구분 안함<br /> - 바이트 스트림(byte-stream) 서비스 |    데이터 경계 구분함 <br />- 데이터그램(datagram) 서비스    |

---

> ### 4. 응용 계층

**응용 계층** (application layer)은 전송 계층을 기반으로 한 다수의 프로토콜(Telnet, FTP , HTTP , SMTP 등)과 이 프로토콜을 사용하는 응용 프로그램을 포괄합니다.

**소켓을 사용한 네트워크 프로그램도 여기에 속합니다.**

